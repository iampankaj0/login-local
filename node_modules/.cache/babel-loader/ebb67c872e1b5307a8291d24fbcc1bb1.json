{"ast":null,"code":"import _slicedToArray from\"D:/reactjs/login-local/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Redirect,Route,Switch}from\"react-router-dom\";import Home from\"./components/Home\";import HomePage from\"./components/HomePage.js\";import Login from\"./components/Login\";import UserContext from\"./context/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setLoginUser=_useState2[1];//get user from localStorage\nuseEffect(function(){setLoginUser(JSON.parse(localStorage.getItem(\"myUser\")));},[]);// set user in localStorage\nvar addUserLocal=function addUserLocal(user){localStorage.setItem(\"myUser\",JSON.stringify(user));setLoginUser(user);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:user&&user.id?/*#__PURE__*/_jsx(Home,{users:user,addUserLocal:addUserLocal}):/*#__PURE__*/_jsx(Login,{users:user,addUserLocal:addUserLocal})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",children:/*#__PURE__*/_jsx(HomePage,{users:user,addUserLocal:addUserLocal})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",children:user.id&&user?/*#__PURE__*/_jsx(Home,{users:user,addUserLocal:addUserLocal}):/*#__PURE__*/_jsx(Login,{users:user,addUserLocal:addUserLocal})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Redirect","Route","Switch","Home","HomePage","Login","UserContext","App","user","setLoginUser","JSON","parse","localStorage","getItem","addUserLocal","setItem","stringify","id"],"sources":["D:/reactjs/login-local/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport HomePage from \"./components/HomePage.js\";\nimport Login from \"./components/Login\";\nimport UserContext from \"./context/UserContext\";\n\nconst App = () => {\n  const [user, setLoginUser] = useState({});\n\n  //get user from localStorage\n  useEffect(() => {\n    setLoginUser(JSON.parse(localStorage.getItem(\"myUser\")));\n  }, []);\n\n  // set user in localStorage\n  const addUserLocal = (user) => {\n    localStorage.setItem(\"myUser\", JSON.stringify(user));\n    setLoginUser(user);\n  };\n\n  return (\n    <div>\n      <Switch>\n        <Route exact path=\"/\">\n          {user && user.id ? (\n            <Home users={user} addUserLocal={addUserLocal} />\n          ) : (\n            <Login users={user} addUserLocal={addUserLocal} />\n          )}\n        </Route>\n        <Route exact path=\"/home\">\n          <HomePage users={user} addUserLocal={addUserLocal} />\n        </Route>\n        <Route exact path=\"/login\">\n          {user.id && user ? (\n            <Home users={user} addUserLocal={addUserLocal} />\n          ) : (\n            <Login users={user} addUserLocal={addUserLocal} />\n          )}\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"4GAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,KAAnB,CAA0BC,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,KAAP,KAAiB,mBAAjB,CACA,MAAOC,SAAP,KAAqB,0BAArB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,YAAP,KAAwB,uBAAxB,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAA6BR,QAAQ,CAAC,EAAD,CAArC,wCAAOS,IAAP,eAAaC,YAAb,eAEA;AACAX,SAAS,CAAC,UAAM,CACdW,YAAY,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX,CAAD,CAAZ,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACN,IAAD,CAAU,CAC7BI,YAAY,CAACG,OAAb,CAAqB,QAArB,CAA+BL,IAAI,CAACM,SAAL,CAAeR,IAAf,CAA/B,EACAC,YAAY,CAACD,IAAD,CAAZ,CACD,CAHD,CAKA,mBACE,kCACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,UACGA,IAAI,EAAIA,IAAI,CAACS,EAAb,cACC,KAAC,IAAD,EAAM,KAAK,CAAET,IAAb,CAAmB,YAAY,CAAEM,YAAjC,EADD,cAGC,KAAC,KAAD,EAAO,KAAK,CAAEN,IAAd,CAAoB,YAAY,CAAEM,YAAlC,EAJJ,EADF,cAQE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,uBACE,KAAC,QAAD,EAAU,KAAK,CAAEN,IAAjB,CAAuB,YAAY,CAAEM,YAArC,EADF,EARF,cAWE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,UACGN,IAAI,CAACS,EAAL,EAAWT,IAAX,cACC,KAAC,IAAD,EAAM,KAAK,CAAEA,IAAb,CAAmB,YAAY,CAAEM,YAAjC,EADD,cAGC,KAAC,KAAD,EAAO,KAAK,CAAEN,IAAd,CAAoB,YAAY,CAAEM,YAAlC,EAJJ,EAXF,cAkBE,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAlBF,GADF,EADF,CAwBD,CAtCD,CAwCA,cAAeP,IAAf"},"metadata":{},"sourceType":"module"}